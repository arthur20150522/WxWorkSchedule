## 现状分析
用户希望知道微信扫码登录后是否有过期时间，并希望在前端显示倒计时。
经过调研，Wechaty 使用的 Web 协议（Puppeteer）模拟网页微信登录，其 Session 有效期**由微信服务端动态控制**，并没有一个固定的“过期时间戳”返回给客户端。
- 大部分关键 Cookie 是 Session 级别的（`expires: -1`），只要连接保持活跃通常能维持数小时到数天不等。
- 只有当服务端主动断开连接（触发 `logout` 事件）时，我们才知道 Session 过期了。

## 解决方案
由于无法获取准确的“剩余过期时间”，无法实现精确倒计时。
为了响应用户需求，我建议采用**“已登录时长”**代替“倒计时”，并在前端展示登录时间信息。

## 修改计划
1.  **后端 (`api.ts`, `botManager.ts`)**：
    - 在 `BotManager` 中记录每个用户的 `loginTime`。
    - 在 `/api/status` 接口中返回 `loginTime` 字段。
    - 确保 `logout` 事件触发时清除 `loginTime`。

2.  **前端 (`App.tsx`)**：
    - 在“机器人状态”面板中，如果状态为 `logged_in`，显示“已登录时长：XX小时XX分”。
    - 明确告知用户“Web 协议登录有效期由微信服务端决定，通常保持活跃可维持较长时间”。

这样既能缓解用户的焦虑（看到连接是活跃的），又不会提供误导性的倒计时。

## 执行步骤
1.  修改 `server/src/botManager.ts`：添加 `loginTimes` Map 记录登录时间。
2.  修改 `server/src/api.ts`：在 `/api/status` 返回 `loginTime`。
3.  修改 `client/src/App.tsx`：计算并显示已登录时长。

确认后，我将执行这些变更。